<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Programa Cuidar+ - Guia de cuidados em casa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Cartilha digital do Programa Cuidar+ do Hug√≥l, com acesso r√°pido por temas √†s p√°ginas da cartilha oficial." />

  <!-- Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <style>
    :root {
      --hugol-blue: #0079c8;
      --hugol-blue-dark: #004785;
      --hugol-blue-light: #e6f4ff;
      --bg-gradient-start: #0b8ae5;
      --bg-gradient-end: #12c2f4;
      --text-main: #112143;
      --text-muted: #565f8a;
      --surface: #ffffff;
      --border-radius-lg: 18px;
      --border-radius-md: 12px;
      --shadow-soft: 0 18px 40px rgba(6, 35, 82, 0.18);
      --shadow-subtle: 0 4px 12px rgba(10, 37, 64, 0.12);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Montserrat", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f4f7fb;
      color: var(--text-main);
      min-height: 100vh;
    }

    a {
      color: inherit;
    }

    button {
      font-family: inherit;
    }

    .app {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* HERO APENAS COM LOGO */

    .hero {
      background: radial-gradient(circle at top left, #31b3ff 0, var(--bg-gradient-start) 30%, var(--bg-gradient-end) 100%);
      padding: 32px 16px 90px;
    }

    .hero-inner {
      max-width: 1040px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .hero-logo-wrap {
      max-width: 520px;
      width: 100%;
    }

    .hero-logo-wrap img {
      display: block;
      width: 100%;
      height: auto;
    }

    /* CONTE√öDO */

    .page {
      flex: 1;
      margin-top: -60px;
      padding: 0 12px 32px;
    }

    .page-inner {
      max-width: 1040px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .card {
      background: var(--surface);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 18px 20px 20px;
      transition: box-shadow 0.2s ease, transform 0.12s ease;
    }

    .card:hover {
      box-shadow: 0 20px 46px rgba(6, 35, 82, 0.22);
      transform: translateY(-1px);
    }

    /* Search card sticky */

    .search-card {
      position: sticky;
      top: 12px;
      z-index: 30;
    }

    /* BUSCA COM LUPA */

    .search-wrapper {
      margin-top: 2px;
      display: flex;
      justify-content: center;
    }

    .search-shell {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      max-width: 480px;
      padding: 10px 16px;
      border-radius: 999px;
      background: #f9fbff;
      border: 1px solid #dde4f4;
      box-shadow: 0 3px 8px rgba(15, 35, 80, 0.12);
      transition: box-shadow 0.15s ease, border-color 0.15s ease, transform 0.12s ease, max-width 0.18s ease, padding 0.18s ease, background 0.18s ease;
    }

    .search-shell:focus-within {
      border-color: var(--hugol-blue);
      box-shadow: 0 0 0 2px rgba(0, 121, 200, 0.2);
      transform: translateY(-1px);
    }

    .search-icon {
      font-size: 18px;
      color: var(--hugol-blue-dark);
      flex-shrink: 0;
      transition: font-size 0.16s ease;
    }

    .search-input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      font-size: 14px;
      color: var(--text-main);
      font-family: "Montserrat", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      transition: opacity 0.16s ease, width 0.16s ease;
    }

    .search-input::placeholder {
      color: #9ba4c7;
    }

    /* ESTADO COMPACTO: LUPA FLUTUANTE */

    .search-card.compact {
      background: transparent;
      box-shadow: none;
      padding: 0;
    }

    .search-card.compact .search-wrapper {
      justify-content: flex-end;
    }

    .search-card.compact .search-shell {
      max-width: 52px;
      padding: 10px;
      border-radius: 999px;
      cursor: pointer;
      background: linear-gradient(145deg, #ffffff, #e3f1ff);
      border-color: rgba(0, 121, 200, 0.3);
      box-shadow: 0 6px 18px rgba(0, 74, 145, 0.35);
    }

    .search-card.compact .search-icon {
      font-size: 20px;
    }

    .search-card.compact .search-input {
      width: 0;
      opacity: 0;
      padding: 0;
      margin: 0;
      pointer-events: none;
    }

    .search-card.compact.expanded {
      padding-top: 4px;
    }

    .search-card.compact.expanded .search-wrapper {
      justify-content: center;
    }

    .search-card.compact.expanded .search-shell {
      max-width: 480px;
      padding: 10px 16px;
      cursor: text;
    }

    .search-card.compact.expanded .search-input {
      width: 100%;
      opacity: 1;
      pointer-events: auto;
    }

    /* LISTA DE TEMAS: GRID DE BLOCOS */

    .topics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
      margin-top: 6px;
      align-items: flex-start;
    }

    .topic-group {
      background: #f8fbff;
      border-radius: var(--border-radius-md);
      border: 1px solid #e1e7fa;
      overflow: hidden;
      transition: box-shadow 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
      box-shadow: var(--shadow-subtle);
    }

    .topic-group.collapsed:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(10, 37, 64, 0.18);
      border-color: #c7d4fb;
    }

    .topic-group-header {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      padding: 18px 32px 16px;
      cursor: pointer;
      user-select: none;
      transition: background 0.12s ease;
      min-height: 96px;
      text-align: center;
    }

    .topic-group-header:hover {
      background: #eef4ff;
    }

    .topic-group-header:focus-visible {
      outline: 2px solid var(--hugol-blue);
      outline-offset: 2px;
    }

    .topic-group-title {
      font-size: 17px;
      font-weight: 800;
      letter-spacing: 0.05em;
      color: var(--hugol-blue-dark);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .topic-group-title-emoji {
      font-size: 18px;
    }

    .topic-group-counter {
      font-size: 12px;
      color: var(--text-muted);
      font-weight: 500;
    }

    .topic-group-header::after {
      content: "‚ñæ";
      position: absolute;
      top: 12px;
      right: 14px;
      font-size: 14px;
      color: var(--text-muted);
      transition: transform 0.2s ease;
    }

    .topic-group.collapsed .topic-group-header::after {
      transform: rotate(-90deg);
    }

    .topic-list {
      list-style: none;
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
      margin-top: 4px;
      padding: 0 12px 10px;
      max-height: 1000px;
      opacity: 1;
      overflow: hidden;
      transition: max-height 0.25s ease, opacity 0.2s ease, padding-top 0.2s ease, padding-bottom 0.2s ease;
    }

    .topic-group.collapsed .topic-list {
      max-height: 0;
      opacity: 0;
      padding-top: 0;
      padding-bottom: 0;
    }

    .topic-item {
      font-size: 14px;
    }

    .topic-link {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      width: 100%;
      padding: 10px 11px;
      border-radius: 12px;
      background: linear-gradient(145deg, #ffffff, #f3f7ff);
      color: var(--text-main);
      text-decoration: none;
      box-shadow: 0 6px 16px rgba(10, 37, 64, 0.12);
      border: 1px solid #dde6fb;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      cursor: pointer;
    }

    .topic-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 24px rgba(10, 37, 64, 0.18);
      background: linear-gradient(145deg, #ffffff, #eef4ff);
      border-color: #c7d4fb;
    }

    .topic-link:active {
      transform: translateY(0);
      box-shadow: 0 5px 14px rgba(10, 37, 64, 0.18);
    }

    .topic-link:focus-visible {
      outline: 2px solid var(--hugol-blue);
      outline-offset: 3px;
    }

    .topic-badge {
      min-width: 24px;
      height: 24px;
      border-radius: 999px;
      background: var(--hugol-blue-light);
      color: var(--hugol-blue-dark);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      flex-shrink: 0;
    }

    .topic-label {
      flex: 1;
      line-height: 1.4;
    }

    .topic-title {
      display: block;
      font-weight: 600;
    }

    .topic-page {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 2px;
      display: block;
    }

    /* CONTE√öDO DAS P√ÅGINAS (FONTE PARA O MODAL, FICA ESCONDIDO) */

    .topic-content {
      display: none;
    }

    .topic-page-image {
      display: block;
      width: 100%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 10px;
      background: #f4f7ff;
    }

    /* Destaque da busca */

    mark {
      background: #ffeaa7;
      color: inherit;
      padding: 0 2px;
      border-radius: 3px;
    }

    /* MODAL DE ZOOM DAS P√ÅGINAS */

    .image-modal {
      position: fixed;
      inset: 0;
      background: rgba(6, 20, 45, 0.78);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 120;
    }

    .image-modal.open {
      display: flex;
    }

    .image-modal-content {
      background: #f5f8ff;
      border-radius: 18px;
      box-shadow: 0 22px 60px rgba(3, 16, 40, 0.85);
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      position: relative;
      padding: 12px 12px 16px;
    }

    .image-modal-body {
      flex: 1;
      overflow-y: auto;
      padding-top: 8px;
    }

    .image-modal-body img {
      width: 100%;
      height: auto;
      border-radius: 12px;
      margin-bottom: 10px;
      display: block;
    }

    .image-modal-close {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: none;
      background: #ffffff;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(10, 37, 64, 0.35);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #3b4a6b;
    }

    .image-modal-close:focus-visible {
      outline: 2px solid var(--hugol-blue);
      outline-offset: 3px;
    }

    /* DOWNLOAD CARTILHA COMPLETA */

    .download-section {
      margin-top: 8px;
    }

    .download-card {
      background: var(--surface);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 18px 20px 22px;
      text-align: center;
      transition: box-shadow 0.2s ease, transform 0.12s ease;
    }

    .download-card:hover {
      box-shadow: 0 22px 50px rgba(6, 35, 82, 0.24);
      transform: translateY(-1px);
    }

    .download-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--hugol-blue-dark);
      margin-bottom: 6px;
    }

    .download-text {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 14px;
      line-height: 1.6;
    }

    .download-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 28px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.6);
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      background: linear-gradient(135deg, #00a9ff, #0064d0);
      color: #ffffff;
      box-shadow: 0 10px 24px rgba(0, 74, 145, 0.5);
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease;
    }

    .download-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(0, 74, 145, 0.6);
      background: linear-gradient(135deg, #11b3ff, #0057b8);
      border-color: rgba(255, 255, 255, 0.9);
    }

    .download-btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 16px rgba(0, 74, 145, 0.45);
    }

    .download-btn:focus-visible {
      outline: 2px solid #ffffff;
      outline-offset: 3px;
    }

    /* FOOTER HUGOL */

    .hugol-footer {
      margin-top: 26px;
      background: linear-gradient(90deg, var(--bg-gradient-start), var(--bg-gradient-end));
      padding: 20px 12px 26px;
    }

    .hugol-footer-inner {
      max-width: 1040px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .hugol-footer img {
      display: block;
      height: 52px;
      width: auto;
    }

    /* RESPONSIVO */

    @media (max-width: 840px) {
      .hero {
        padding: 26px 14px 80px;
      }

      .hero-logo-wrap {
        max-width: 420px;
      }

      .page {
        margin-top: -52px;
        padding: 0 10px 30px;
      }

      .card {
        padding: 16px 16px 19px;
      }

      .download-card {
        padding: 16px 16px 20px;
      }
    }

    @media (max-width: 640px) {
      .topics {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 12px;
      }

      .topic-group {
        border-radius: 14px;
      }

      .topic-group-header {
        padding: 14px 10px 12px;
        min-height: 92px;
        align-items: flex-start;
        text-align: left;
      }

      .topic-group-title {
        justify-content: flex-start;
      }

      .topic-list {
        padding: 0 10px 10px;
      }

      .image-modal-content {
        border-radius: 16px;
        padding: 10px 10px 14px;
      }
    }

    @media (max-width: 720px) {
      .hugol-footer img {
        height: 44px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- HERO COM LOGO -->
    <header class="hero">
      <div class="hero-inner">
        <div class="hero-logo-wrap">
          <img src="testeira.png" alt="Programa Cuidar+" />
        </div>
      </div>
    </header>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="page" role="main">
      <div class="page-inner">
        <!-- BUSCA -->
        <section class="card search-card" aria-label="Buscar tema da cartilha">
          <div class="search-wrapper">
            <div class="search-shell">
              <span class="search-icon" aria-hidden="true">üîç</span>
              <input
                id="topicSearch"
                class="search-input"
                type="search"
                placeholder="Busque um tema da cartilha (ex.: sonda, dieta, oxig√™nio, feridas, traqueostomia...)"
                aria-label="Buscar tema da cartilha Cuidar+"
                autocomplete="off" />
            </div>
          </div>
        </section>

        <!-- TEMAS EM GRID -->
        <section class="card" aria-label="Lista de temas da cartilha">
          <div class="topics" id="topicsRoot">

            <!-- VIS√ÉO GERAL -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">üìò</span>
                  Vis√£o geral
                </h3>
                <span class="topic-group-counter">2 temas</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="introdu√ß√£o programa cuidar mais">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-intro-p2"
                    aria-label="Ver conte√∫do da cartilha: Introdu√ß√£o: Programa Cuidar+, p√°gina 1">
                    <span class="topic-badge">1</span>
                    <span class="topic-label">
                      <span class="topic-title">Introdu√ß√£o: Programa Cuidar+</span>
                      <span class="topic-page">P√°gina 1</span>
                    </span>
                  </button>
                  <div id="topic-intro-p2" class="topic-content" aria-hidden="true">
                    <img
                      class="topic-page-image"
                      src="p√°ginas/cuidarmais-p02.png"
                      alt="Cartilha Cuidar+ - Introdu√ß√£o ao Programa Cuidar+ - p√°gina 1"
                      loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="higieniza√ß√£o das m√£os higiene das m√£os">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-higiene-p3"
                    aria-label="Ver conte√∫do da cartilha: Higieniza√ß√£o das m√£os, p√°gina 2">
                    <span class="topic-badge">2</span>
                    <span class="topic-label">
                      <span class="topic-title">Higieniza√ß√£o das m√£os</span>
                      <span class="topic-page">P√°gina 2</span>
                    </span>
                  </button>
                  <div id="topic-higiene-p3" class="topic-content" aria-hidden="true">
                    <img
                      class="topic-page-image"
                      src="p√°ginas/cuidarmais-p03.png"
                      alt="Cartilha Cuidar+ - Higieniza√ß√£o das m√£os - p√°gina 2"
                      loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>

            <!-- NUTRI√á√ÉO DOMICILIAR -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">üçΩÔ∏è</span>
                  Nutri√ß√£o domiciliar
                </h3>
                <span class="topic-group-counter">6 temas</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="nutri√ß√£o domiciliar tipos de sonda orienta√ß√µes gerais">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-nutricao-p4-6"
                    aria-label="Ver conte√∫do da cartilha: Nutri√ß√£o domiciliar: tipos de sonda e orienta√ß√µes gerais, p√°ginas 3 a 5">
                    <span class="topic-badge">3</span>
                    <span class="topic-label">
                      <span class="topic-title">Nutri√ß√£o domiciliar: tipos de sonda e orienta√ß√µes gerais</span>
                      <span class="topic-page">P√°ginas 3 a 5</span>
                    </span>
                  </button>
                  <div id="topic-nutricao-p4-6" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p04.png" alt="Cartilha Cuidar+ - Nutri√ß√£o domiciliar - p√°gina 3" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p05.png" alt="Cartilha Cuidar+ - Nutri√ß√£o domiciliar - p√°gina 4" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p06.png" alt="Cartilha Cuidar+ - Nutri√ß√£o domiciliar - p√°gina 5" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="tipos de dieta industrializada artesanal mista">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-tipos-dieta-p7"
                    aria-label="Ver conte√∫do da cartilha: Tipos de dieta, p√°gina 6">
                    <span class="topic-badge">4</span>
                    <span class="topic-label">
                      <span class="topic-title">Tipos de dieta (industrializada, artesanal e mista)</span>
                      <span class="topic-page">P√°gina 6</span>
                    </span>
                  </button>
                  <div id="topic-tipos-dieta-p7" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p07.png" alt="Cartilha Cuidar+ - Tipos de dieta - p√°gina 6" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="preparo da dieta higiene do cuidador local utens√≠lios">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-preparo-dieta-p8-9"
                    aria-label="Ver conte√∫do da cartilha: Preparo da dieta, p√°ginas 7 e 8">
                    <span class="topic-badge">5</span>
                    <span class="topic-label">
                      <span class="topic-title">Preparo da dieta: higiene do cuidador, local e utens√≠lios</span>
                      <span class="topic-page">P√°ginas 7 e 8</span>
                    </span>
                  </button>
                  <div id="topic-preparo-dieta-p8-9" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p08.png" alt="Cartilha Cuidar+ - Preparo da dieta - p√°gina 7" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p09.png" alt="Cartilha Cuidar+ - Preparo da dieta - p√°gina 8" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="preparando guardando administrando a dieta e a √°gua">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-preparando-dieta-p10-12"
                    aria-label="Ver conte√∫do da cartilha: Preparando, guardando e administrando a dieta e a √°gua, p√°ginas 9 a 11">
                    <span class="topic-badge">6</span>
                    <span class="topic-label">
                      <span class="topic-title">Preparando, guardando e administrando a dieta e a √°gua</span>
                      <span class="topic-page">P√°ginas 9 a 11</span>
                    </span>
                  </button>
                  <div id="topic-preparando-dieta-p10-12" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p10.png" alt="Cartilha Cuidar+ - Preparando, guardando e administrando a dieta e a √°gua - p√°gina 9" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p11.png" alt="Cartilha Cuidar+ - Preparando, guardando e administrando a dieta e a √°gua - p√°gina 10" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p12.png" alt="Cartilha Cuidar+ - Preparando, guardando e administrando a dieta e a √°gua - p√°gina 11" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="limpeza da sonda frascos equipos">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-limpeza-sonda-p13"
                    aria-label="Ver conte√∫do da cartilha: Limpeza da sonda, frascos e equipos, p√°gina 12">
                    <span class="topic-badge">7</span>
                    <span class="topic-label">
                      <span class="topic-title">Limpeza da sonda, frascos e equipos</span>
                      <span class="topic-page">P√°gina 12</span>
                    </span>
                  </button>
                  <div id="topic-limpeza-sonda-p13" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p13.png" alt="Cartilha Cuidar+ - Limpeza da sonda, frascos e equipos - p√°gina 12" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="problemas comuns na nutri√ß√£o sinais de alerta">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-problemas-nutricao-p14-15"
                    aria-label="Ver conte√∫do da cartilha: Problemas comuns na nutri√ß√£o e sinais de alerta, p√°ginas 13 e 14">
                    <span class="topic-badge">8</span>
                    <span class="topic-label">
                      <span class="topic-title">Problemas comuns na nutri√ß√£o e sinais de alerta</span>
                      <span class="topic-page">P√°ginas 13 e 14</span>
                    </span>
                  </button>
                  <div id="topic-problemas-nutricao-p14-15" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p14.png" alt="Cartilha Cuidar+ - Problemas comuns na nutri√ß√£o - p√°gina 13" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p15.png" alt="Cartilha Cuidar+ - Problemas comuns na nutri√ß√£o - p√°gina 14" loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>

            <!-- CUIDADOS COM DISPOSITIVOS -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">ü©∫</span>
                  Cuidados com dispositivos
                </h3>
                <span class="topic-group-counter">5 temas</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="sonda vesical cuidados no dia a dia">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-sonda-vesical-p16"
                    aria-label="Ver conte√∫do da cartilha: Sonda vesical: cuidados no dia a dia, p√°gina 15">
                    <span class="topic-badge">9</span>
                    <span class="topic-label">
                      <span class="topic-title">Sonda vesical: cuidados no dia a dia</span>
                      <span class="topic-page">P√°gina 15</span>
                    </span>
                  </button>
                  <div id="topic-sonda-vesical-p16" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p16.png" alt="Cartilha Cuidar+ - Sonda vesical: cuidados no dia a dia - p√°gina 15" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="colostomia estoma bolsa coletora pele ao redor">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-colostomia-p17-19"
                    aria-label="Ver conte√∫do da cartilha: Colostomia: estoma, bolsa coletora e pele ao redor, p√°ginas 16 a 18">
                    <span class="topic-badge">10</span>
                    <span class="topic-label">
                      <span class="topic-title">Colostomia: estoma, bolsa coletora e pele ao redor</span>
                      <span class="topic-page">P√°ginas 16 a 18</span>
                    </span>
                  </button>
                  <div id="topic-colostomia-p17-19" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p17.png" alt="Cartilha Cuidar+ - Colostomia - p√°gina 16" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p18.png" alt="Cartilha Cuidar+ - Colostomia - p√°gina 17" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p19.png" alt="Cartilha Cuidar+ - Colostomia - p√°gina 18" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="traqueostomia cuidados com estoma e c√¢nula">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-traqueostomia-p20-22"
                    aria-label="Ver conte√∫do da cartilha: Traqueostomia: cuidados com estoma e c√¢nula, p√°ginas 19 a 21">
                    <span class="topic-badge">11</span>
                    <span class="topic-label">
                      <span class="topic-title">Traqueostomia: cuidados com estoma e c√¢nula</span>
                      <span class="topic-page">P√°ginas 19 a 21</span>
                    </span>
                  </button>
                  <div id="topic-traqueostomia-p20-22" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p20.png" alt="Cartilha Cuidar+ - Traqueostomia - p√°gina 19" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p21.png" alt="Cartilha Cuidar+ - Traqueostomia - p√°gina 20" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p22.png" alt="Cartilha Cuidar+ - Traqueostomia - p√°gina 21" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="aspira√ß√£o traqueal quando e como fazer">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-aspiracao-p23-26"
                    aria-label="Ver conte√∫do da cartilha: Aspira√ß√£o traqueal: quando e como fazer, p√°ginas 22 a 25">
                    <span class="topic-badge">12</span>
                    <span class="topic-label">
                      <span class="topic-title">Aspira√ß√£o traqueal: quando e como fazer</span>
                      <span class="topic-page">P√°ginas 22 a 25</span>
                    </span>
                  </button>
                  <div id="topic-aspiracao-p23-26" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p23.png" alt="Cartilha Cuidar+ - Aspira√ß√£o traqueal - p√°gina 22" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p24.png" alt="Cartilha Cuidar+ - Aspira√ß√£o traqueal - p√°gina 23" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p25.png" alt="Cartilha Cuidar+ - Aspira√ß√£o traqueal - p√°gina 24" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p26.png" alt="Cartilha Cuidar+ - Aspira√ß√£o traqueal - p√°gina 25" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="oxigenoterapia domiciliar uso do ox√≠metro de pulso">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-oxigenoterapia-p27-29"
                    aria-label="Ver conte√∫do da cartilha: Oxigenoterapia domiciliar e uso do ox√≠metro de pulso, p√°ginas 26 a 28">
                    <span class="topic-badge">13</span>
                    <span class="topic-label">
                      <span class="topic-title">Oxigenoterapia domiciliar e uso do ox√≠metro de pulso</span>
                      <span class="topic-page">P√°ginas 26 a 28</span>
                    </span>
                  </button>
                  <div id="topic-oxigenoterapia-p27-29" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p27.png" alt="Cartilha Cuidar+ - Oxigenoterapia domiciliar - p√°gina 26" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p28.png" alt="Cartilha Cuidar+ - Oxigenoterapia domiciliar - p√°gina 27" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p29.png" alt="Cartilha Cuidar+ - Oxigenoterapia domiciliar - p√°gina 28" loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>

            <!-- PREVEN√á√ÉO DE FERIDAS -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">üõ°Ô∏è</span>
                  Preven√ß√£o de feridas
                </h3>
                <span class="topic-group-counter">1 tema</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="les√£o por press√£o o que √© como prevenir">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-lesao-pressao-p30-34"
                    aria-label="Ver conte√∫do da cartilha: Les√£o por press√£o: o que √© e como prevenir, p√°ginas 29 a 33">
                    <span class="topic-badge">14</span>
                    <span class="topic-label">
                      <span class="topic-title">Les√£o por press√£o: o que √© e como prevenir</span>
                      <span class="topic-page">P√°ginas 29 a 33</span>
                    </span>
                  </button>
                  <div id="topic-lesao-pressao-p30-34" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p30.png" alt="Cartilha Cuidar+ - Les√£o por press√£o - p√°gina 29" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p31.png" alt="Cartilha Cuidar+ - Les√£o por press√£o - p√°gina 30" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p32.png" alt="Cartilha Cuidar+ - Les√£o por press√£o - p√°gina 31" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p33.png" alt="Cartilha Cuidar+ - Les√£o por press√£o - p√°gina 32" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p34.png" alt="Cartilha Cuidar+ - Les√£o por press√£o - p√°gina 33" loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>

            <!-- SA√öDE MENTAL E CUIDADOR -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">üíö</span>
                  Sa√∫de mental e cuidador
                </h3>
                <span class="topic-group-counter">2 temas</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="cuidando de quem cuida cuidador fam√≠lia">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-cuidando-cuidador-p36"
                    aria-label="Ver conte√∫do da cartilha: Cuidando de quem cuida: cuidados com o cuidador, p√°gina 35">
                    <span class="topic-badge">15</span>
                    <span class="topic-label">
                      <span class="topic-title">Cuidando de quem cuida: cuidados com o cuidador</span>
                      <span class="topic-page">P√°gina 35</span>
                    </span>
                  </button>
                  <div id="topic-cuidando-cuidador-p36" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p36.png" alt="Cartilha Cuidar+ - Cuidando de quem cuida - p√°gina 35" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="sa√∫de mental paciente fam√≠lia ap√≥s alta">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-saude-mental-p35"
                    aria-label="Ver conte√∫do da cartilha: Sa√∫de mental do paciente e da fam√≠lia ap√≥s a alta, p√°gina 34">
                    <span class="topic-badge">16</span>
                    <span class="topic-label">
                      <span class="topic-title">Sa√∫de mental do paciente e da fam√≠lia ap√≥s a alta</span>
                      <span class="topic-page">P√°gina 34</span>
                    </span>
                  </button>
                  <div id="topic-saude-mental-p35" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p35.png" alt="Cartilha Cuidar+ - Sa√∫de mental do paciente e da fam√≠lia - p√°gina 34" loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>

            <!-- SERVI√áO SOCIAL E REDE DE APOIO -->
            <div class="topic-group collapsed">
              <div class="topic-group-header" role="button" tabindex="0" aria-expanded="false">
                <h3 class="topic-group-title">
                  <span class="topic-group-title-emoji" aria-hidden="true">ü§ù</span>
                  Servi√ßo social e rede de apoio
                </h3>
                <span class="topic-group-counter">6 temas</span>
              </div>
              <ul class="topic-list">
                <li class="topic-item" data-topic-item data-label="solicita√ß√£o de insumos goi√¢nia pa√ßo municipal">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-insumos-goiania-p38-39"
                    aria-label="Ver conte√∫do da cartilha: Solicita√ß√£o de insumos: Goi√¢nia (Pa√ßo Municipal), p√°ginas 37 e 38">
                    <span class="topic-badge">17</span>
                    <span class="topic-label">
                      <span class="topic-title">Solicita√ß√£o de insumos: Goi√¢nia (Pa√ßo Municipal)</span>
                      <span class="topic-page">P√°ginas 37 e 38</span>
                    </span>
                  </button>
                  <div id="topic-insumos-goiania-p38-39" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p38.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: Goi√¢nia (Pa√ßo Municipal) - p√°gina 37" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p39.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: Goi√¢nia (Pa√ßo Municipal) - p√°gina 38" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="solicita√ß√£o de insumos ovg">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-insumos-ovg-p40-41"
                    aria-label="Ver conte√∫do da cartilha: Solicita√ß√£o de insumos: OVG, p√°ginas 39 e 40">
                    <span class="topic-badge">18</span>
                    <span class="topic-label">
                      <span class="topic-title">Solicita√ß√£o de insumos: OVG</span>
                      <span class="topic-page">P√°ginas 39 e 40</span>
                    </span>
                  </button>
                  <div id="topic-insumos-ovg-p40-41" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p40.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: OVG - p√°gina 39" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p41.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: OVG - p√°gina 40" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="solicita√ß√£o de insumos demais munic√≠pios">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-insumos-municipios-p42-43"
                    aria-label="Ver conte√∫do da cartilha: Solicita√ß√£o de insumos: demais munic√≠pios, p√°ginas 41 e 42">
                    <span class="topic-badge">19</span>
                    <span class="topic-label">
                      <span class="topic-title">Solicita√ß√£o de insumos: demais munic√≠pios</span>
                      <span class="topic-page">P√°ginas 41 e 42</span>
                    </span>
                  </button>
                  <div id="topic-insumos-municipios-p42-43" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p42.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: demais munic√≠pios - p√°gina 41" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p43.png" alt="Cartilha Cuidar+ - Solicita√ß√£o de insumos: demais munic√≠pios - p√°gina 42" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="ventila√ß√£o mec√¢nica trilogy bipap home care">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-ventilacao-homecare-p43-44"
                    aria-label="Ver conte√∫do da cartilha: Ventila√ß√£o mec√¢nica (TRILOGY/BIPAP) e Home Care, p√°ginas 42 e 43">
                    <span class="topic-badge">20</span>
                    <span class="topic-label">
                      <span class="topic-title">Ventila√ß√£o mec√¢nica (TRILOGY/BIPAP) e Home Care</span>
                      <span class="topic-page">P√°ginas 42 e 43</span>
                    </span>
                  </button>
                  <div id="topic-ventilacao-homecare-p43-44" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p43.png" alt="Cartilha Cuidar+ - Ventila√ß√£o mec√¢nica (TRILOGY/BIPAP) e Home Care - p√°gina 42" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p44.png" alt="Cartilha Cuidar+ - Ventila√ß√£o mec√¢nica (TRILOGY/BIPAP) e Home Care - p√°gina 43" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="servi√ßo de apoio ao ostomizado sao">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-sao-p45-46"
                    aria-label="Ver conte√∫do da cartilha: Servi√ßo de apoio ao ostomizado (SAO), p√°ginas 44 e 45">
                    <span class="topic-badge">21</span>
                    <span class="topic-label">
                      <span class="topic-title">Servi√ßo de apoio ao ostomizado (SAO)</span>
                      <span class="topic-page">P√°ginas 44 e 45</span>
                    </span>
                  </button>
                  <div id="topic-sao-p45-46" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p45.png" alt="Cartilha Cuidar+ - Servi√ßo de apoio ao ostomizado - p√°gina 44" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p46.png" alt="Cartilha Cuidar+ - Servi√ßo de apoio ao ostomizado - p√°gina 45" loading="lazy" />
                  </div>
                </li>

                <li class="topic-item" data-topic-item data-label="servi√ßo de aten√ß√£o domiciliar sad">
                  <button
                    class="topic-link"
                    type="button"
                    data-content-id="topic-sad-p47-49"
                    aria-label="Ver conte√∫do da cartilha: Servi√ßo de Aten√ß√£o Domiciliar (SAD), p√°ginas 46 a 48">
                    <span class="topic-badge">22</span>
                    <span class="topic-label">
                      <span class="topic-title">Servi√ßo de Aten√ß√£o Domiciliar (SAD)</span>
                      <span class="topic-page">P√°ginas 46 a 48</span>
                    </span>
                  </button>
                  <div id="topic-sad-p47-49" class="topic-content" aria-hidden="true">
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p47.png" alt="Cartilha Cuidar+ - Servi√ßo de Aten√ß√£o Domiciliar - p√°gina 46" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p48.png" alt="Cartilha Cuidar+ - Servi√ßo de Aten√ß√£o Domiciliar - p√°gina 47" loading="lazy" />
                    <img class="topic-page-image" src="p√°ginas/cuidarmais-p49.png" alt="Cartilha Cuidar+ - Servi√ßo de Aten√ß√£o Domiciliar - p√°gina 48" loading="lazy" />
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- DOWNLOAD CARTILHA COMPLETA -->
        <section class="download-section">
          <div class="download-card">
            <div class="download-title">Cartilha completa do Programa Cuidar+</div>
            <p class="download-text">
              Se quiser salvar no seu celular, computador ou enviar para algu√©m, fa√ßa o download da cartilha completa em PDF.
            </p>
            <a
              class="download-btn"
              href="DocumentoCartilhaCuidarmais-combinado.pdf"
              target="_blank"
              rel="noopener"
              download
              aria-label="Baixar cartilha completa do Programa Cuidar+, em PDF">
              üìÑ Baixar cartilha completa (PDF)
            </a>
          </div>
        </section>
      </div>
    </main>

    <!-- MODAL PARA ZOOM DAS P√ÅGINAS -->
    <div id="imageModal" class="image-modal" aria-hidden="true" role="dialog" aria-label="Visualiza√ß√£o da p√°gina da cartilha">
      <div class="image-modal-content">
        <button id="imageModalClose" class="image-modal-close" type="button" aria-label="Fechar visualiza√ß√£o">
          ‚úï
        </button>
        <div id="imageModalBody" class="image-modal-body"></div>
      </div>
    </div>

    <!-- RODAP√â HUGOL -->
    <footer class="hugol-footer">
      <div class="hugol-footer-inner">
        <img src="logohugol.png" alt="Hospital Estadual de Urg√™ncias Governador Ot√°vio Lage de Siqueira (Hug√≥l)" />
      </div>
    </footer>
  </div>

  <script>
    const searchInput = document.getElementById("topicSearch");
    const topicItems = document.querySelectorAll("[data-topic-item]");
    const topicGroups = document.querySelectorAll(".topic-group");
    const topicTitles = document.querySelectorAll(".topic-title");
    const groupHeaders = document.querySelectorAll(".topic-group-header");
    const searchCard = document.querySelector(".search-card");
    const searchShell = document.querySelector(".search-shell");
    const topicTriggers = document.querySelectorAll(".topic-link");

    const imageModal = document.getElementById("imageModal");
    const imageModalBody = document.getElementById("imageModalBody");
    const imageModalClose = document.getElementById("imageModalClose");
    let lastFocusedTrigger = null;

    // Guardar t√≠tulo original para remover destaque da busca depois
    topicTitles.forEach((title) => {
      title.dataset.originalTitle = title.textContent;
    });

    function escapeRegExp(string) {
      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");
    }

    /* FILTRO DE BUSCA */

    function filtrarTopicos() {
      const query = (searchInput.value || "").trim().toLowerCase();

      topicItems.forEach((item) => {
        const label = (item.getAttribute("data-label") || "").toLowerCase();
        const matches = label.includes(query);
        item.style.display = matches ? "" : "none";

        const titleSpan = item.querySelector(".topic-title");
        if (!titleSpan) return;

        const original = titleSpan.dataset.originalTitle || titleSpan.textContent;

        if (query && query.length >= 2 && matches) {
          const regex = new RegExp("(" + escapeRegExp(query) + ")", "gi");
          titleSpan.innerHTML = original.replace(regex, "<mark>$1</mark>");
        } else {
          titleSpan.textContent = original;
        }
      });

      topicGroups.forEach((group) => {
        const items = group.querySelectorAll("[data-topic-item]");
        let hasVisible = false;

        items.forEach((item) => {
          if (item.style.display !== "none") {
            hasVisible = true;
          }
        });

        group.style.display = hasVisible ? "" : "none";

        const header = group.querySelector(".topic-group-header");
        if (!header) return;

        if (query && query.length >= 2 && hasVisible) {
          group.classList.remove("collapsed");
          header.setAttribute("aria-expanded", "true");
        }
      });
    }

    /* ACORDE√ÉO DOS BLOCOS */

    function toggleGroup(header) {
      const group = header.closest(".topic-group");
      const expanded = header.getAttribute("aria-expanded") === "true";
      header.setAttribute("aria-expanded", String(!expanded));
      group.classList.toggle("collapsed", expanded);
    }

    groupHeaders.forEach((header) => {
      header.addEventListener("click", () => toggleGroup(header));
      header.addEventListener("keydown", (event) => {
        if (event.key === "Enter" || event.key === " ") {
          event.preventDefault();
          toggleGroup(header);
        }
      });
    });

    /* MODAL DE IMAGENS */

    function openModalFromTrigger(trigger) {
      const contentId = trigger.getAttribute("data-content-id");
      if (!contentId) return;
      const sourceContent = document.getElementById(contentId);
      if (!sourceContent) return;

      imageModalBody.innerHTML = sourceContent.innerHTML;
      imageModal.classList.add("open");
      imageModal.setAttribute("aria-hidden", "false");
      lastFocusedTrigger = trigger;

      document.body.style.overflow = "hidden";
    }

    function closeModal() {
      if (!imageModal.classList.contains("open")) return;
      imageModal.classList.remove("open");
      imageModal.setAttribute("aria-hidden", "true");
      imageModalBody.innerHTML = "";
      document.body.style.overflow = "";

      if (lastFocusedTrigger) {
        try {
          lastFocusedTrigger.focus();
        } catch (e) {}
      }
    }

    topicTriggers.forEach((trigger) => {
      trigger.addEventListener("click", () => openModalFromTrigger(trigger));
    });

    imageModalClose.addEventListener("click", closeModal);

    imageModal.addEventListener("click", (event) => {
      if (event.target === imageModal) {
        closeModal();
      }
    });

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape") {
        closeModal();
      }
    });

    /* BUSCA: eventos */

    if (searchInput) {
      searchInput.addEventListener("input", filtrarTopicos);

      searchInput.addEventListener("keydown", (event) => {
        if (event.key === "Enter") {
          const visibles = Array.from(topicItems).filter(
            (item) => item.style.display !== "none"
          );

          if (visibles.length === 1) {
            event.preventDefault();
            const trigger = visibles[0].querySelector(".topic-link");
            if (trigger) {
              openModalFromTrigger(trigger);
            }
          }
        }
      });

      window.addEventListener("DOMContentLoaded", () => {
        try {
          searchInput.focus();
        } catch (e) {}
      });
    }

    /* COMPORTAMENTO DA BARRA DE BUSCA (LUPA AO DESCER) */

    if (searchCard && searchShell && searchInput) {
      const SCROLL_THRESHOLD = 140;

      function updateSearchCompactState() {
        if (window.scrollY > SCROLL_THRESHOLD) {
          searchCard.classList.add("compact");
        } else {
          searchCard.classList.remove("compact");
          searchCard.classList.remove("expanded");
        }
      }

      window.addEventListener("scroll", updateSearchCompactState);

      searchShell.addEventListener("click", (event) => {
        if (!searchCard.classList.contains("compact")) return;
        event.stopPropagation();
        searchCard.classList.toggle("expanded");

        if (searchCard.classList.contains("expanded")) {
          setTimeout(() => {
            try {
              searchInput.focus();
            } catch (e) {}
          }, 80);
        }
      });

      document.addEventListener("click", (event) => {
        if (
          !searchCard.classList.contains("compact") ||
          !searchCard.classList.contains("expanded")
        ) {
          return;
        }
        const isInside = searchCard.contains(event.target);
        if (!isInside) {
          searchCard.classList.remove("expanded");
        }
      });

      updateSearchCompactState();
    }

    // estado inicial da lista
    filtrarTopicos();
  </script>
</body>
</html>
